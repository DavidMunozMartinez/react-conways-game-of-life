(this["webpackJsonpreact-conways-game-of-life"]=this["webpackJsonpreact-conways-game-of-life"]||[]).push([[0],{22:function(e,n,t){},23:function(e,n,t){},28:function(e,n,t){},30:function(e,n,t){},42:function(e,n,t){"use strict";t.r(n);var a=t(1),r=t.n(a),c=t(5),i=t.n(c),o=(t(22),t(4)),s=(t(23),t(3)),u=(t(28),t(14)),l=t(15),b=function(){function e(){Object(u.a)(this,e),this.operations=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]],this.patterns={glider:["2-0","2-1","2-2","1-2","0-1"],"g-glider":["24-0","22-1","24-1","12-2","13-2","20-2","21-2","34-2","35-2","11-3","15-3","20-3","21-3","34-3","35-3","0-4","1-4","10-4","16-4","20-4","21-4","0-5","1-5","10-5","14-5","16-5","17-5","22-5","24-5","10-6","16-6","24-6","11-7","15-7","12-8","13-8"],cloverleaf:["6-3","8-3","4-4","5-4","6-4","8-4","9-4","10-4","3-5","7-5","11-5","3-6","5-6","9-6","11-6","4-7","5-7","7-7","9-7","10-7","4-9","5-9","7-9","9-9","10-9","3-10","5-10","9-10","11-10","3-11","7-11","11-11","4-12","5-12","6-12","8-12","9-12","10-12","6-13","8-13"],pulsar:["4-2","5-2","6-2","10-2","11-2","12-2","2-4","7-4","9-4","14-4","2-5","7-5","9-5","14-5","2-6","7-6","9-6","14-6","4-7","5-7","6-7","10-7","11-7","12-7","4-9","5-9","6-9","10-9","11-9","12-9","2-10","7-10","9-10","14-10","2-11","7-11","9-11","14-11","2-12","7-12","9-12","14-12","4-14","5-14","6-14","10-14","11-14","12-14"]}}return Object(l.a)(e,[{key:"makeCanvas",value:function(e,n,t){return Array.from(Array(n),(function(n,a){return Array.from(Array(e),(function(e,n){return t(n,a)}))}))}},{key:"nextGeneration",value:function(e){for(var n=this,t=JSON.parse(JSON.stringify(e)),a=function(a){for(var r=function(r){var c=0;n.operations.forEach((function(n){var t=Object(o.a)(n,2),i=t[0],s=t[1],u=a+i,l=r+s,b=u>=0&&u<e.length,f=l>=0&&e[0]&&l<e[0].length;b&&f&&(c=e[u][l]?c+1:c)})),c<2||c>3?t[a][r]=!1:e[a][r]||3!==c||(t[a][r]=!0)},c=0;c<e[a].length;c++)r(c)},r=0;r<e.length;r++)a(r);return t}},{key:"clone",value:function(e){return JSON.parse(JSON.stringify(e))}},{key:"getPattern",value:function(e){if(this.patterns[e])return this.patterns[e]}}]),e}(),f=t(2),j=new b;function d(e){var n=Object(s.c)((function(e){return e.config})),t=Object(s.b)(),r=Object(a.useState)(!1),c=Object(o.a)(r,2),i=c[0],u=c[1],l=Object(a.useState)((function(){return j.makeCanvas(n.x,n.y,(function(){return Math.random()>.7}))})),b=Object(o.a)(l,2),d=b[0],p=b[1];if(e.callablesSetter){var v={toggle:function(){u(!i),t({type:"update",data:{prop:"running",value:!i}}),i||(x.current=!0,m())},randomize:function(e){var t=j.makeCanvas(n.x,n.y,(function(){return Math.random()<e}));p(t)},next:function(){var e=j.nextGeneration(d);p(e)},clear:function(){u(!1);var e=j.makeCanvas(n.x,n.y,(function(){return!1}));p(e)},example:function(e){i&&(u(!1),t({type:"update",data:{prop:"running",value:!1}})),t({type:"update",data:{prop:"speed",value:50}});var a=j.getPattern(e),r=j.makeCanvas(n.x,n.y,(function(e,n){return a.indexOf("".concat(e,"-").concat(n))>-1}));console.log(r),p(r)}};e.callablesSetter(v)}if(function(){var e=d[0]&&d[0].length!==n.x,t=d.length!==n.y;return e||t}()){var O=j.makeCanvas(n.x,n.y,(function(){return!1}));p(O)}var x=Object(a.useRef)(i),g=Object(a.useRef)(n.speed);x.current=i,g.current=n.speed;var m=Object(a.useCallback)((function(){x.current&&(p((function(e){return j.nextGeneration(e)})),setTimeout(m,g.current))}),[]);return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{className:"CanvasComponent",draggable:"false",onContextMenu:function(e){e.preventDefault()},children:Object(f.jsx)("smart-hover",{"query-selector":".cell","transition-time":"100","transition-mode":"ease-out","override-styles":"true",draggable:"false",children:d.map((function(e,n){return Object(f.jsx)("div",{className:"row",draggable:"false",children:e.map((function(e,t){return Object(f.jsx)("div",{className:"cell ".concat(e?"alive":""),draggable:"false",onMouseDown:function(){!function(e,n){var t=JSON.parse(JSON.stringify(d));t[e][n]=!d[e][n],console.log([n,e]),p(t)}(n,t)},onMouseEnter:function(e){!function(e,n,t){var a=j.clone(d);1===e.buttons&&(a[n][t]=!0),2===e.buttons&&(a[n][t]=!1),p(a)}(e,n,t)},children:" "},"".concat(n,"-").concat(t))}))},n)}))})})})}t(30);var p=function(){var e=Object(s.c)((function(e){return e.config})),n=Object(s.b)();function t(e,t){n({type:"update",data:{prop:e,value:t}})}return Object(f.jsxs)("div",{className:"ConfigModalComponent",children:[Object(f.jsx)("span",{children:"x: "}),Object(f.jsx)("input",{type:"number",max:60,value:e.x,onChange:function(e){t("x",e.target.value)}}),Object(f.jsx)("span",{children:"y: "}),Object(f.jsx)("input",{type:"number",max:60,value:e.y,onChange:function(e){t("y",e.target.value)}}),Object(f.jsx)("span",{children:" Speed:"}),Object(f.jsx)("input",{type:"number",min:100,value:e.speed,onChange:function(e){t("speed",e.target.value)}})]})},v=t(7),O=t(17),x=t(16);var g=function(){var e,n=Object(a.useState)(!1),t=Object(o.a)(n,2),r=t[0],c=t[1],i=Object(s.c)((function(e){return e.config}));return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)("div",{className:r?"panel-show":"panel-hide",children:Object(f.jsx)(p,{})}),Object(f.jsxs)("smart-hover",{"query-selector":".primary-btn",class:"app-header","override-styles":"true",children:[Object(f.jsx)("button",{className:"primary-btn icon-btn",onClick:function(){c(!r)},children:Object(f.jsx)(v.a,{})}),Object(f.jsxs)("button",{className:"primary-btn icon-btn",onClick:function(){e.toggle()},children:[" ",i.running?Object(f.jsx)(v.b,{}):Object(f.jsx)(v.c,{})," "]}),Object(f.jsxs)("button",{className:"primary-btn icon-btn",onClick:function(){e.next()},children:[" ",Object(f.jsx)(x.a,{})," "]}),Object(f.jsx)("button",{className:"primary-btn text-btn",onClick:function(){e.clear()},children:" Clear "}),Object(f.jsx)("button",{className:"primary-btn text-btn",onClick:function(){e.randomize(.3)},children:" Random "}),Object(f.jsxs)("select",{defaultValue:"init",placeholder:"examples",className:"primary-btn",onChange:function(n){e.example(n.target.value)},children:[Object(f.jsx)("option",{value:"init",disabled:!0,children:"Cool examples"}),Object(f.jsx)("option",{value:"glider",children:"Simple glider"}),Object(f.jsx)("option",{value:"g-glider",children:"Gosper's glider gun"}),Object(f.jsx)("option",{value:"cloverleaf",children:"Cloverleaf"}),Object(f.jsx)("option",{value:"pulsar",children:"Pulsar"})]}),Object(f.jsxs)("button",{onClick:function(){window.open("https://github.com/DavidMunozMartinez/react-conways-game-of-life")},className:"primary-btn",style:{float:"right",borderRadius:5},children:[" ",Object(f.jsx)(O.a,{})]})]}),Object(f.jsx)(d,{callablesSetter:function(n){e=n}})]})},m=(t(31),t(6)),h={x:60,y:40,speed:150,running:!1},y=Object(m.a)({config:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,n=arguments.length>1?arguments[1]:void 0,t=JSON.parse(JSON.stringify(e));switch(n.type){case"update":var a=n.data.value;return"boolean"===typeof a?t[n.data.prop]=a:""!==a&&(t[n.data.prop]=parseInt(n.data.value)),t;case"event":return t.event=n.value,t;default:return e}}}),C=Object(m.b)(y);i.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(s.a,{store:C,children:Object(f.jsx)(g,{})})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.95ee0a47.chunk.js.map